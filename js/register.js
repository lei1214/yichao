var username=document.querySelector('[name="username"]'),password=document.querySelector('[name="password"]'),repass=document.querySelector('[name="repass"]'),submit=document.querySelector(".submit1");username.onblur=function(){if(""===this.value)return this.nextElementSibling.innerHTML="x 账户名不能为空",!(this.nextElementSibling.style.display="block");if(!/(^1[3-9]\d{9}$)|((^[1-9]\d{4,10}@qq\.com$)|(^[a-zA-Z]\w{5,17}@((126|163)\.com|yeah\.net)$))/.test(this.value))return this.nextElementSibling.innerHTML="x 手机或者邮箱输入有误",!(this.nextElementSibling.style.display="block");this.nextElementSibling.innerHTML="√ 输入正确",this.nextElementSibling.style.color="yellowgreen"},username.onfocus=function(){""===this.value&&(this.nextElementSibling.style.display=" ")},password.onblur=function(){if(""===this.value)return this.nextElementSibling.innerHTML="x 密码不能为空",this.nextElementSibling.style.display="block",!(this.nextElementSibling.style.color="red");if(!/^[^\s]{6,16}$/.test(this.value))return this.nextElementSibling.innerHTML="x 6-16位字符，可使用字母、数字或符号的组合",!(this.nextElementSibling.style.display="block");this.nextElementSibling.innerHTML="√ 输入正确",this.nextElementSibling.style.color="yellowgreen"},password.onfocus=function(){""===this.value&&(this.nextElementSibling.style.display=" ")},repass.onblur=function(){return""===this.value?(this.nextElementSibling.innerHTML="x 密码不能为空",this.nextElementSibling.style.display="block",!(this.nextElementSibling.style.color="red")):this.value!==password.value?!(this.nextElementSibling.style.display="block"):(this.nextElementSibling.innerHTML="√ 输入正确",void(this.nextElementSibling.style.color="yellowgreen"))},repass.onfocus=function(){""===this.value&&(this.nextElementSibling.style.display=" ")},submit.onclick=function(){if(""===username.value)return this.nextElementSibling.innerHTML="x 账户名不能为空",!(username.nextElementSibling.style.display="block");if(!/(^1[3-9]\d{9}$)|((^[1-9]\d{4,10}@qq\.com$)|(^[a-zA-Z]\w{5,17}@((126|163)\.com|yeah\.net)$))/.test(username.value))return this.nextElementSibling.innerHTML="x 手机或者邮箱输入有误",!(username.nextElementSibling.style.display="block");if(username.nextElementSibling.innerHTML="√ 输入正确",username.nextElementSibling.style.color="yellowgreen",""===password.value)return this.nextElementSibling.innerHTML="x 密码不能为空",password.nextElementSibling.style.display="block",!(this.nextElementSibling.style.color="red");if(!/^[^\s]{6,16}$/.test(password.value))return this.nextElementSibling.innerHTML="x 6-16位字符，可使用字母、数字或符号的组合",!(password.nextElementSibling.style.display="block");if(password.nextElementSibling.innerHTML="√ 输入正确",password.nextElementSibling.style.color="yellowgreen",""===repass.value)return this.nextElementSibling.innerHTML="x 密码不能为空",repass.nextElementSibling.style.display="block",!(this.nextElementSibling.style.color="red");if(!/^[^\s]{6,16}$/.test(repass.value))return this.nextElementSibling.innerHTML="x 6-16位字符，可使用字母、数字或符号的组合",!(repass.nextElementSibling.style.display="block");if(repass.value!==password.value)return!(repass.nextElementSibling.style.display="block");repass.nextElementSibling.innerHTML="√ 输入正确",repass.nextElementSibling.style.color="yellowgreen";var e=username.value,n=password.value;ajax({url:"../php/register.php",data:`username=${e}&password=${n}`,success:function(e){1==e?setTimeout(function(){location.href="../html/login.html"},1500):0==e?alert("用户名被占用"):2==e&&alert("注册失败")}})};